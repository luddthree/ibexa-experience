{% trans_default_domain 'ibexa_connector_dam_ui' %}

{% form_theme form '@ibexadesign/ui/form_fields.html.twig' %}

{% block form_start %}
    {{ form_start(form, {
        'attr': {
            'class': 'ibexa-dam-search-form',
            'data-source' : source,
            'data-result-template': include('@ibexadesign/ui/modal/search_result.html.twig', {
                asset_path: '{{ assetPath }}',
                source_id: '{{ sourceId }}',
                asset_id: '{{ assetId }}',
                alternative_text: '{{ alternativeText }}'
            })
        },
        'action': path('ibexa.connector.dam.generic_search'),
        'method': 'GET'
    }) }}
{% endblock %}

<div class="input-group">
    {% block form_fields %}
        {{ form_widget(form.query, {
            'attr': {
                'class': 'input-group__search-keyword',
            },
        }) }}
    {% endblock %}
</div>

{% block form_end %}
    {{ form_end(form) }}
{% endblock %}
